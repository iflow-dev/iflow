# AI Todo List

## Current Task
- Following bootstrap.txt instructions

## Completed Tasks
- ✅ Checked /opt/iflow environment structure
- ✅ Read ENVIRONMENT_SETUP.md
- ✅ Verified prod server running on port 9000
- ✅ Queried backend API for artifacts
- ✅ Read artifact 00102 (execute procedure)
- ✅ Read all procedures and checklists
- ✅ Checked radish documentation
- ✅ Examined run_radish.py
- ✅ Examined start_server.py
- ✅ Unset EDITOR environment variable
- ✅ Verified port 9000 is occupied by prod server

## Pending Tasks
- [ ] Complete bootstrap.txt following
- [ ] Create comprehensive checklists
- [ ] Organize learned information

## Rules & Checklists to Follow

### 🚫 CRITICAL RESTRICTIONS
- **NEVER EVER DO:**
  - ❌ Use port 9000 for testing
  - ❌ Use prod server for testing  
  - ❌ Stop server on port 9000 unless updating prod server

### 🔧 Environment Management
- **Port Ranges:**
  - Prod: 9000 (always running)
  - Dev servers: 7000-7010 (allowed range)
  - Integration: 8082
  - QA: 8081
  - Dev: 8080

### 🧪 Testing Procedures
- **Local Testing:**
  - Use `start_server.py --init-db` for local repository testing
  - Stop any running dev server before starting new one
  - Ensure server has recent changes
  - Never use dev environment for testing local changes

### 📝 Git Operations
- **Commit Messages:** `#<ticket>: <fix/implement>: <summary>`
- **Merge Operations:** Always use `--no-edit` flag
- **Branch Management:** Check pending changes before operations

### 🧪 BDD Test Development
- **Step Definitions:**
  - Search existing steps before creating new ones
  - Use only `@step` decorator
  - Distinguish between activity (`@when`) and verification (`@then`)
  - Follow natural language with formal elements
  - Unify steps by making them more flexible

### 🔍 Artifact Queries
- **Always use PROD server (port 9000) for artifact queries**
- **Query endpoints:**
  - All artifacts: `/api/artifacts`
  - Specific artifact: `/api/artifacts/<id>`
  - Filtered artifacts: `/api/artifacts?category=<category>`

### 🚀 Server Management
- **Start Commands:**
  - Prod: `/opt/iflow/prod/server start`
  - Dev: `/opt/iflow/dev/server start`
  - QA: `/opt/iflow/qa/server start`
  - Integration: `/opt/iflow/integration/server start`

### 📚 Documentation & Learning
- **Radish Tutorial:** https://radish.readthedocs.io/en/stable/tutorial.html
- **Test Execution:** `python run_radish.py <env> <args> [--foreground] [--local]`
- **Local Server:** `python start_server.py [--port PORT] [--database PATH] [--init-db]`

### ⚠️ Common Pitfalls
- **Workflow Interruption:** EDITOR environment variable opens editors
- **Git Merge:** Missing `--no-edit` flag
- **Port Conflicts:** Not checking port availability before starting servers
- **Environment Confusion:** Using wrong environment for specific tasks